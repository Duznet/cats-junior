var interned={};Sk.builtin.str=function(a){if(void 0===a)throw"error: trying to str() undefined (should be at least null)";if(a instanceof Sk.builtin.str&&a!==Sk.builtin.str.prototype.ob$type)return a;if(!(this instanceof Sk.builtin.str))return new Sk.builtin.str(a);var b;if(a===!0)b="True";else if(a===!1)b="False";else if(null===a)b="None";else if("number"==typeof a)b=""+a,"Infinity"===b?b="inf":"-Infinity"===b&&(b="-inf");else{if("string"!=typeof a){if(void 0!==a.tp$str){if(b=a.tp$str(),!(b instanceof Sk.builtin.str))throw new Sk.builtin.ValueError("__str__ didn't return a str");return b}return void 0!==a.__str__?Sk.misceval.callsim(a.__str__,a):Sk.misceval.objectRepr(a)}b=a}return Object.prototype.hasOwnProperty.call(interned,"1"+b)?interned["1"+b]:(this.__class__=Sk.builtin.str,this.v=b,this.v=this.v,interned["1"+b]=this,this)},goog.exportSymbol("Sk.builtin.str",Sk.builtin.str),Sk.builtin.str.$emptystr=new Sk.builtin.str(""),Sk.builtin.str.prototype.mp$subscript=function(a){if("number"==typeof a&&Math.floor(a)===a){if(0>a&&(a=this.v.length+a),0>a||a>=this.v.length)throw new Sk.builtin.IndexError("string index out of range");return new Sk.builtin.str(this.v.charAt(a))}if(a instanceof Sk.builtin.slice){var b="";return a.sssiter$(this,function(a,c){a>=0&&c.v.length>a&&(b+=c.v.charAt(a))}),new Sk.builtin.str(b)}throw new TypeError("string indices must be numbers, not "+typeof a)},Sk.builtin.str.prototype.sq$length=function(){return this.v.length},Sk.builtin.str.prototype.sq$concat=function(a){return new Sk.builtin.str(this.v+a.v)},Sk.builtin.str.prototype.sq$repeat=function(a){for(var b="",c=0;a>c;++c)b+=this.v;return new Sk.builtin.str(b)},Sk.builtin.str.prototype.sq$item=function(){goog.asserts.fail()},Sk.builtin.str.prototype.sq$slice=function(a,b){return new Sk.builtin.str(this.v.substr(a,b-a))},Sk.builtin.str.prototype.sq$contains=function(a){if(void 0===a.v||a.v.constructor!=String)throw new TypeError("TypeError: 'In <string> requires string as left operand");return-1!=this.v.indexOf(a.v)?!0:!1},Sk.builtin.str.prototype.tp$name="str",Sk.builtin.str.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr,Sk.builtin.str.prototype.tp$iter=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:new Sk.builtin.str(a.$obj.v.substr(a.$index++,1))}};return a},Sk.builtin.str.prototype.tp$richcompare=function(a,b){if(!(a instanceof Sk.builtin.str))return void 0;if(this===a)switch(b){case"Eq":case"LtE":case"GtE":return!0;case"NotEq":case"Lt":case"Gt":return!1}var c=this.v.length,d=a.v.length,e=Math.min(c,d),f=0;if(e>0){for(var g=0;e>g;++g)if(this.v[g]!=a.v[g]){f=this.v[g].charCodeAt(0)-a.v[g].charCodeAt(0);break}}else f=0;switch(0==f&&(f=d>c?-1:c>d?1:0),b){case"Lt":return 0>f;case"LtE":return 0>=f;case"Eq":return 0==f;case"NotEq":return 0!=f;case"Gt":return f>0;case"GtE":return f>=0;default:goog.asserts.fail()}},Sk.builtin.str.prototype.$r=function(){var a="'";-1!==this.v.indexOf("'")&&-1===this.v.indexOf('"')&&(a='"');for(var b=this.v.length,c=a,d=0;b>d;++d){var e=this.v.charAt(d);if(e===a||"\\"===e)c+="\\"+e;else if(" "===e)c+="\\t";else if("\n"===e)c+="\\n";else if("\r"===e)c+="\\r";else if(" ">e||e>=127){var f=e.charCodeAt(0).toString(16);2>f.length&&(f="0"+f),c+="\\x"+f}else c+=e}return c+=a,new Sk.builtin.str(c)},Sk.builtin.str.re_escape_=function(a){for(var b=[],c=/^[A-Za-z0-9]+$/,d=0;a.length>d;++d){var e=a.charAt(d);c.test(e)?b.push(e):"\\000"===e?b.push("\\000"):b.push("\\"+e)}return b.join("")},Sk.builtin.str.prototype.lower=new Sk.builtin.func(function(a){return new Sk.builtin.str(a.v.toLowerCase())}),Sk.builtin.str.prototype.upper=new Sk.builtin.func(function(a){return new Sk.builtin.str(a.v.toUpperCase())}),Sk.builtin.str.prototype.capitalize=new Sk.builtin.func(function(a){return new Sk.builtin.str(a.v.charAt(0).toUpperCase()+a.v.substring(1))}),Sk.builtin.str.prototype.join=new Sk.builtin.func(function(a,b){for(var c=[],d=b.tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext()){if(e.constructor!==Sk.builtin.str)throw"TypeError: sequence item "+c.length+": expected string, "+typeof e+" found";c.push(e.v)}return new Sk.builtin.str(c.join(a.v))}),Sk.builtin.str.prototype.split=new Sk.builtin.func(function(a,b,c){var d;d=b?a.v.split(new Sk.builtin.str(b).v,c):a.v.trim().split(/[\s]+/,c);for(var e=[],f=0;d.length>f;++f)e.push(new Sk.builtin.str(d[f]));return new Sk.builtin.list(e)}),Sk.builtin.str.prototype.strip=new Sk.builtin.func(function(a,b){return goog.asserts.assert(!b,"todo;"),new Sk.builtin.str(a.v.replace(/^\s+|\s+$/g,""))}),Sk.builtin.str.prototype.lstrip=new Sk.builtin.func(function(a,b){return goog.asserts.assert(!b,"todo;"),new Sk.builtin.str(a.v.replace(/^\s+/g,""))}),Sk.builtin.str.prototype.rstrip=new Sk.builtin.func(function(a,b){return goog.asserts.assert(!b,"todo;"),new Sk.builtin.str(a.v.replace(/\s+$/g,""))}),Sk.builtin.str.prototype.partition=new Sk.builtin.func(function(a,b){var c=new Sk.builtin.str(b),d=a.v.indexOf(c.v);return 0>d?new Sk.builtin.tuple([a,Sk.builtin.str.$emptystr,Sk.builtin.str.$emptystr]):new Sk.builtin.tuple([new Sk.builtin.str(a.v.substring(0,d)),c,new Sk.builtin.str(a.v.substring(d+c.v.length))])}),Sk.builtin.str.prototype.rpartition=new Sk.builtin.func(function(a,b){var c=new Sk.builtin.str(b),d=a.v.lastIndexOf(c.v);return 0>d?new Sk.builtin.tuple([Sk.builtin.str.$emptystr,Sk.builtin.str.$emptystr,a]):new Sk.builtin.tuple([new Sk.builtin.str(a.v.substring(0,d)),c,new Sk.builtin.str(a.v.substring(d+c.v.length))])}),Sk.builtin.str.prototype.count=new Sk.builtin.func(function(a,b){var c=RegExp(b.v,"g"),d=a.v.match(c);return d?d.length:0}),Sk.builtin.str.prototype.ljust=new Sk.builtin.func(function(a,b){if(a.v.length>=b)return a;var c=Array.prototype.join.call({length:Math.floor(b-a.v.length)+1}," ");return new Sk.builtin.str(a.v+c)}),Sk.builtin.str.prototype.rjust=new Sk.builtin.func(function(a,b){if(a.v.length>=b)return a;var c=Array.prototype.join.call({length:Math.floor(b-a.v.length)+1}," ");return new Sk.builtin.str(c+a.v)}),Sk.builtin.str.prototype.center=new Sk.builtin.func(function(a,b){if(a.v.length>=b)return a;var c=Array.prototype.join.call({length:Math.floor((b-a.v.length)/2)+1}," "),d=c+a.v+c;return b>d.length&&(d+=" "),new Sk.builtin.str(d)}),Sk.builtin.str.prototype.find=new Sk.builtin.func(function(a,b,c){return a.v.indexOf(b.v,c)}),Sk.builtin.str.prototype.index=new Sk.builtin.func(function(a,b,c){return a.v.indexOf(b.v,c)}),Sk.builtin.str.prototype.rfind=new Sk.builtin.func(function(a,b,c){return a.v.lastIndexOf(b.v,c)}),Sk.builtin.str.prototype.rindex=new Sk.builtin.func(function(a,b,c){return a.v.lastIndexOf(b.v,c)}),Sk.builtin.str.prototype.replace=new Sk.builtin.func(function(a,b,c,d){if(b.constructor!==Sk.builtin.str||c.constructor!==Sk.builtin.str)throw new Sk.builtin.TypeError("expecting a string");goog.asserts.assert(void 0===d,"todo; replace() with count not implemented");var e=RegExp(Sk.builtin.str.re_escape_(b.v),"g");return new Sk.builtin.str(a.v.replace(e,c.v))}),Sk.builtin.str.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("str",Sk.builtin.str),Sk.builtin.str.prototype.nb$remainder=function(a){a.constructor===Sk.builtin.tuple||void 0!==a.mp$subscript&&a.constructor!==Sk.builtin.str||(a=new Sk.builtin.tuple([a]));var b=/%(\([a-zA-Z0-9]+\))?([#0 +\-]+)?(\*|[0-9]+)?(\.(\*|[0-9]+))?[hlL]?([diouxXeEfFgGcrs%])/g,c=0,d=function(b,d,e,f,g,h,i){var j;(void 0===d||""===d)&&(j=c++);var k=!1,l=!1,m=!1,n=!1,o=!1;e&&(-1!==e.indexOf("-")?l=!0:-1!==e.indexOf("0")&&(k=!0),-1!==e.indexOf("+")?n=!0:-1!==e.indexOf(" ")&&(m=!0),o=-1!==e.indexOf("#")),g&&(g=parseInt(g.substr(1),10));var r,p=function(a,b){var c,d,e=!1;"number"==typeof a?(0>a&&(a=-a,e=!0),d=a.toString(b)):a instanceof Sk.builtin.lng&&(d=a.str$(b,!1),e=0>a.size$),goog.asserts.assert(void 0!==d,"unhandled number format");var h=!1;if(g)for(c=d.length;g>c;++c)d="0"+d,h=!0;var i="";return e?i="-":n?i="+"+i:m&&(i=" "+i),o&&(16===b?i+="0x":8!==b||h||"0"===d||(i+="0")),[i,d]},q=function(a){var d,b=a[0],c=a[1];if(f){f=parseInt(f,10);var e=c.length+b.length;if(k)for(d=e;f>d;++d)c="0"+c;else if(l)for(d=e;f>d;++d)c+=" ";else for(d=e;f>d;++d)b=" "+b}return b+c};if(a.constructor===Sk.builtin.tuple)r=a.v[j];else{if(void 0===a.mp$subscript)throw new Sk.builtin.AttributeError(a.tp$name+" instance has no attribute 'mp$subscript'");var s=d.substring(1,d.length-1);r=a.mp$subscript(new Sk.builtin.str(s))}var t;switch(i){case"d":case"i":return q(p(r,10));case"o":return q(p(r,8));case"x":return q(p(r,16));case"X":return q(p(r,16)).toUpperCase();case"e":case"E":case"f":case"F":case"g":case"G":var v=["toExponential","toFixed","toPrecision"]["efg".indexOf(i.toLowerCase())],w=r[v](g);return-1!=="EFG".indexOf(i)&&(w=w.toUpperCase()),q(["",w]);case"c":if("number"==typeof r)return String.fromCharCode(r);if(r instanceof Sk.builtin.lng)return String.fromCharCode(255&r.digit$[0]);if(r.constructor===Sk.builtin.str)return r.v.substr(0,1);throw new TypeError("an integer is required");case"r":return t=Sk.builtin.repr(r),g?t.v.substr(0,g):t.v;case"s":return t=new Sk.builtin.str(r),g?t.v.substr(0,g):t.v;case"%":return"%"}},e=this.v.replace(b,d);return new Sk.builtin.str(e)};