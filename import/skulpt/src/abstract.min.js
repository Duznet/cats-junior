Sk.abstr={},Sk.abstr.binop_type_error=function(a,b,c){throw new TypeError("unsupported operand type(s) for "+c+": '"+a.tp$name+"' and '"+b.tp$name+"'")},Sk.abstr.boNameToSlotFunc_=function(a,b){switch(b){case"Add":return a.nb$add?a.nb$add:a.__add__;case"Sub":return a.nb$subtract?a.nb$subtract:a.__sub__;case"Mult":return a.nb$multiply?a.nb$multiply:a.__mul__;case"Div":return a.nb$divide?a.nb$divide:a.__div__;case"FloorDiv":return a.nb$floor_divide?a.nb$floor_divide:a.__floordiv__;case"Mod":return a.nb$remainder?a.nb$remainder:a.__mod__;case"Pow":return a.nb$power?a.nb$power:a.__pow__}},Sk.abstr.iboNameToSlotFunc_=function(a,b){switch(b){case"Add":return a.nb$inplace_add}},Sk.abstr.binary_op_=function(a,b,c){var d,e=Sk.abstr.boNameToSlotFunc_(a,c);if(void 0!==e&&(d=e.call?e.call(a,b):Sk.misceval.callsim(e,a,b),void 0!==d))return d;var f=Sk.abstr.boNameToSlotFunc_(b,c);return void 0!==f&&(d=f.call?f.call(b,a):Sk.misceval.callsim(f,b,a),void 0!==d)?d:"Add"===c&&a.sq$concat?a.sq$concat(b):"Mult"===c&&a.sq$repeat?Sk.abstr.sequenceRepeat(a.sq$repeat,a,b):"Mult"===c&&b.sq$repeat?Sk.abstr.sequenceRepeat(b.sq$repeat,b,a):(Sk.abstr.binop_type_error(a,b,c),void 0)},Sk.abstr.binary_iop_=function(a,b,c){var d,e=Sk.abstr.iboNameToSlotFunc_(a,c);if(void 0!==e&&(d=e.call(a,b),void 0!==d))return d;var f=Sk.abstr.iboNameToSlotFunc_(b,c);if(void 0!==f&&(d=f.call(b,a),void 0!==d))return d;if("Add"===c){if(a.sq$inplace_concat)return a.sq$inplace_concat(b);if(a.sq$concat)return a.sq$concat(b)}else if("Mult"===c){if(a.sq$inplace_repeat)return Sk.abstr.sequenceRepeat(a.sq$inplace_repeat,a,b);if(a.sq$repeat)return Sk.abstr.sequenceRepeat(a.sq$repeat,a,b);if(b.sq$repeat)return Sk.abstr.sequenceRepeat(b.sq$repeat,b,a)}Sk.abstr.binop_type_error(a,b,c)},Sk.abstr.numOpAndPromote=function(a,b,c){if("number"==typeof a&&"number"==typeof b){var d=c(a,b);return d>Sk.builtin.lng.threshold$||-Sk.builtin.lng.threshold$>d?[Sk.builtin.lng.fromInt$(a),Sk.builtin.lng.fromInt$(b)]:d}return a.constructor===Sk.builtin.lng&&"number"==typeof b?[a,Sk.builtin.lng.fromInt$(b)]:b.constructor===Sk.builtin.lng&&"number"==typeof a?[Sk.builtin.lng.fromInt$(a),b]:void 0},Sk.abstr.boNumPromote_={Add:function(a,b){return a+b},Sub:function(a,b){return a-b},Mult:function(a,b){return a*b},Mod:function(a,b){return(0>b?-1:1)*(Math.abs(a)%b)},Div:function(a,b){if(0===b)throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");return a/b},FloorDiv:function(a,b){return Math.floor(a/b)},Pow:Math.pow,BitAnd:function(a,b){return a&b},BitOr:function(a,b){return a|b},BitXor:function(a,b){return a^b},LShift:function(a,b){return a<<b},RShift:function(a,b){return a>>b}},Sk.abstr.numberBinOp=function(a,b,c){var d=Sk.abstr.boNumPromote_[c];if(void 0!==d){var e=Sk.abstr.numOpAndPromote(a,b,d);if("number"==typeof e)return e;void 0!==e&&(a=e[0],b=e[1])}return Sk.abstr.binary_op_(a,b,c)},goog.exportSymbol("Sk.abstr.numberBinOp",Sk.abstr.numberBinOp),Sk.abstr.numberInplaceBinOp=function(a,b,c){var d=Sk.abstr.boNumPromote_[c];if(void 0!==d){var e=Sk.abstr.numOpAndPromote(a,b,d);if("number"==typeof e)return e;void 0!==e&&(a=e[0],b=e[1])}return Sk.abstr.binary_iop_(a,b,c)},goog.exportSymbol("Sk.abstr.numberInplaceBinOp",Sk.abstr.numberInplaceBinOp),Sk.abstr.numberUnaryOp=function(a,b){if("Not"===b)return Sk.misceval.isTrue(a)?!1:!0;if("number"==typeof a||"boolean"==typeof a){if("USub"===b)return-a;if("UAdd"===b)return a;if("Invert"===b)return~a}else{if("USub"===b&&a.nb$negative)return a.nb$negative();if("UAdd"===b&&a.nb$positive)return a.nb$positive()}throw new TypeError("unsupported operand type for "+b+" '"+a.tp$name+"'")},goog.exportSymbol("Sk.abstr.numberUnaryOp",Sk.abstr.numberUnaryOp),Sk.abstr.fixSeqIndex_=function(a,b){return 0>b&&a.sq$length&&(b+=a.sq$length()),b},Sk.abstr.sequenceContains=function(a,b){if(a.sq$contains)return a.sq$contains(b);if(!a.tp$iter)throw new TypeError("argument of type '"+a.tp$name+"' is not iterable");for(var c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())if(Sk.misceval.richCompareBool(d,b,"Eq"))return!0;return!1},Sk.abstr.sequenceGetItem=function(){goog.asserts.fail()},Sk.abstr.sequenceSetItem=function(){goog.asserts.fail()},Sk.abstr.sequenceDelItem=function(a,b){if(a.sq$ass_item)return b=Sk.abstr.fixSeqIndex_(a,b),a.sq$ass_item(b,null);throw new TypeError("'"+a.tp$name+"' object does not support item deletion")},Sk.abstr.sequenceRepeat=function(a,b,c){var d=Sk.misceval.asIndex(c);if(void 0===d)throw new TypeError("can't multiply sequence by non-int of type '"+c.tp$name+"'");return a.call(b,c)},Sk.abstr.sequenceGetSlice=function(a,b,c){if(a.sq$slice)return b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$slice(b,c);if(a.mp$subscript)return a.mp$subscript(new Sk.builtin.slice(b,c));throw new TypeError("'"+a.tp$name+"' object is unsliceable")},Sk.abstr.sequenceDelSlice=function(a,b,c){if(a.sq$ass_slice)return b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$ass_slice(b,c,null);throw new TypeError("'"+a.tp$name+"' doesn't support slice deletion")},Sk.abstr.sequenceSetSlice=function(a,b,c,d){if(a.sq$ass_slice)b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$ass_slice(b,c,d);else{if(!a.mp$ass_subscript)throw new TypeError("'"+a.tp$name+"' object doesn't support slice assignment");a.mp$ass_subscript(new Sk.builtin.slice(b,c),d)}},Sk.abstr.objectDelItem=function(a,b){if(a.mp$ass_subscript)return a.mp$ass_subscript(b,null);if(a.sq$ass_item){var c=Sk.misceval.asIndex(b);if(void 0===c)throw new TypeError("sequence index must be integer, not '"+b.tp$name+"'");return Sk.abstr.sequenceDelItem(a,c)}throw new TypeError("'"+a.tp$name+"' object does not support item deletion")},goog.exportSymbol("Sk.abstr.objectDelItem",Sk.abstr.objectDelItem),Sk.abstr.objectGetItem=function(a,b){if(a.mp$subscript)return a.mp$subscript(b);if(Sk.misceval.isIndex(b)&&a.sq$item)return Sk.abstr.sequenceGetItem(a,Sk.misceval.asIndex(b));throw new TypeError("'"+a.tp$name+"' does not support indexing")},goog.exportSymbol("Sk.abstr.objectGetItem",Sk.abstr.objectGetItem),Sk.abstr.objectSetItem=function(a,b,c){if(a.mp$ass_subscript)return a.mp$ass_subscript(b,c);if(Sk.misceval.isIndex(b)&&a.sq$ass_item)return Sk.abstr.sequenceSetItem(a,Sk.misceval.asIndex(b),c);throw new TypeError("'"+a.tp$name+"' does not support item assignment")},goog.exportSymbol("Sk.abstr.objectSetItem",Sk.abstr.objectSetItem),Sk.abstr.gattr=function(a,b){var c=a.tp$getattr(b);if(void 0===c)throw new Sk.builtin.AttributeError("'"+a.tp$name+"' object has no attribute '"+b+"'");return c},goog.exportSymbol("Sk.abstr.gattr",Sk.abstr.gattr),Sk.abstr.sattr=function(a,b,c){a.tp$setattr(b,c)},goog.exportSymbol("Sk.abstr.sattr",Sk.abstr.sattr),Sk.abstr.iter=function(a){return a.tp$iter()},goog.exportSymbol("Sk.abstr.iter",Sk.abstr.iter),Sk.abstr.iternext=function(a){return a.tp$iternext()},goog.exportSymbol("Sk.abstr.iternext",Sk.abstr.iternext);