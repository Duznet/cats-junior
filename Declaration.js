var curProblem;
var problems = [];
var users = [];
var cmdId; // current number for added command(generated for dynamic creating of sortable elements)
var	currentServer = undefined;
var visited = []; // if tab have already been visited -- for proper tabs displaying
var contests;
var cmdClassToName = {
	'block': 'Block',
	'if': '–ï—Å–ª–∏',
	'ifelse': '–ï—Å–ª–∏...–ò–Ω–∞—á–µ',
	'while': '–ü–æ–∫–∞',
	'for': '–ü–æ–≤—Ç–æ—Ä',
	'funcdef': '–§—É–Ω–∫—Ü–∏—è'
};
var classes = ['block', 'if', 'ifelse', 'while', 'for', 'funcdef'];

var btnsPlay = ['play', 'next', 'prev'];
var btns = ['play', 'pause', 'stop', 'prev', 'next'];
var btnTitles = ['–ü—Ä–æ–∏–≥—Ä–∞—Ç—å', '–ü–∞—É–∑–∞', '–°—Ç–æ–ø', '–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥', '–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥', '–í –∫–æ–Ω–µ—Ü'];
var buttonIconClasses = ['ui-icon-play', 'ui-icon-pause', 'ui-icon-stop', 'ui-icon-seek-prev', 'ui-icon-seek-next', 'ui-icon-seek-end'];
var selectConditions = [
	['is', ''],
	['isNot', '–Ω–µ']
];
var c = 0;
var lastWatchedIndex = [];
var watchList = [];
var codeareas = [];
var finalcode = [], 
	$gbl = [], 
	$loc = [], 
	$expr = [], 
	$scope = [], 
	nextline = [], 
	$scopename = [], 
	$scopestack = [];
	
var problemsData = [
{
	'code': "D", 
	'id': 792984, 
	'input_format': "<div>\n  –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª.\n</div>",	
	'title': "–ó–∞–¥–∞—á–∞-1",
	'statement': "<div>\n<p>\n–í–∞—à–∞ –∑–∞–¥–∞—á–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã, –∑–∞—Ç—Ä–∞—Ç–∏–≤ –Ω–µ –±–æ–ª–µ–µ, —á–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤ —É—Å–ª–æ–≤–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥, –Ω–∞–±—Ä–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –æ—á–∫–æ–≤.</p>\n<p>–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –º–æ–Ω—Å—Ç—Ä–æ–º –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–æ–∏–≥—Ä—ã—à.</p> \n<p>–ó–∞ —Å–æ–±—Ä–∞–Ω–Ω—É—é –∑–≤–µ–∑–¥–æ—á–∫—É –ø–æ–ª—É—á–∞–µ—Ç–µ 20 –æ—á–∫–æ–≤.\n</p>\n</div>",
	'data': 
		{	
	"map": [
["#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#"],
["#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#"],
["#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#"],
["#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", "#", ".", ".", ".", ".", ".", "#", ".", ".", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#"],
["#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#"],
["#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", ".", ".", ".", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#"],
["#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", ".", "D", ".", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#"],
["#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", ".", ".", ".", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#"],
["#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#"],
["#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", "#", "#", ".", "#", "#", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", ".", ".", "#", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#"],
["#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#", ".", "#", ".", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", ".", "#"],
["#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#", ".", "#", ".", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", ".", "#"],
["#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#", "*", "#", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "#"],
["#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#"]],
	"specSymbols": [
		{
			"symbol": "*",
			"count": 1,
			"style": "star",
			"name": "Á‚ÂÁ‰‡",
			"action": "eat",
			"points": 25,
			"dLife": 0, 
			"zIndex": 2 
		}
	],
	"keys": [],
	"locks": [],
	"movingElements":[],
	"commands": ["forward", "left", "right", "wait"],
	"startLife": 1,
	"dLife": 0,
	"startPoints": 0,
	"maxCmdNum": 40
}
}];
var elseStmt = undefined;
var maxStep = 10000;
var undo = false;
var MAX_VALUE = 999999999999999;
var MAX_STEP_VALUE = 10000;