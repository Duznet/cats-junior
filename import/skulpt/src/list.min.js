Sk.builtin.list=function(a){if(!(this instanceof Sk.builtin.list))return new Sk.builtin.list(a);if("[object Array]"===Object.prototype.toString.apply(a))this.v=a;else{if(!a.tp$iter)throw new Sk.builtin.ValueError("expecting Array or iterable");this.v=[];for(var b=a.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())this.v.push(c)}return this.v=this.v,this},Sk.builtin.list.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("list",Sk.builtin.list),Sk.builtin.list.prototype.list_iter_=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:a.$obj.v[a.$index++]}};return a},Sk.builtin.list.prototype.list_concat_=function(a){for(var b=this.v.slice(),c=0;a.v.length>c;++c)b.push(a.v[c]);return new Sk.builtin.list(b)},Sk.builtin.list.prototype.list_ass_item_=function(a,b){if(0>a||a>=this.v.length)throw new Sk.builtin.IndexError("list assignment index out of range");return null===b?Sk.builtin.list.prototype.list_ass_slice_.call(this,a,a+1,b):(this.v[a]=b,void 0)},Sk.builtin.list.prototype.list_ass_slice_=function(a,b,c){var d=null===c?[]:c.v.slice(0);d.unshift(b-a),d.unshift(a),this.v.splice.apply(this.v,d)},Sk.builtin.list.prototype.tp$name="list",Sk.builtin.list.prototype.$r=function(){for(var a=[],b=this.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())a.push(Sk.misceval.objectRepr(c).v);return new Sk.builtin.str("["+a.join(", ")+"]")},Sk.builtin.list.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr,Sk.builtin.list.prototype.tp$hash=Sk.builtin.object.prototype.HashNotImplemented,Sk.builtin.list.prototype.tp$richcompare=function(a,b){if(this===a&&Sk.misceval.opAllowsEquality(b))return!0;var f,c=this.v,a=a.v,d=c.length,e=a.length;for(f=0;d>f&&e>f;++f){var g=Sk.misceval.richCompareBool(c[f],a[f],"Eq");if(!g)break}if(f>=d||f>=e)switch(b){case"Lt":return e>d;case"LtE":return e>=d;case"Eq":return d===e;case"NotEq":return d!==e;case"Gt":return d>e;case"GtE":return d>=e;default:goog.asserts.fail()}return"Eq"===b?!1:"NotEq"===b?!0:Sk.misceval.richCompareBool(c[f],a[f],b)},Sk.builtin.list.prototype.tp$iter=Sk.builtin.list.prototype.list_iter_,Sk.builtin.list.prototype.sq$length=function(){return this.v.length},Sk.builtin.list.prototype.sq$concat=Sk.builtin.list.prototype.list_concat_,Sk.builtin.list.prototype.sq$repeat=function(a){for(var b=[],c=0;a>c;++c)for(var d=0;this.v.length>d;++d)b.push(this.v[d]);return new Sk.builtin.list(b)},Sk.builtin.list.prototype.sq$ass_item=Sk.builtin.list.prototype.list_ass_item_,Sk.builtin.list.prototype.sq$ass_slice=Sk.builtin.list.prototype.list_ass_slice_,Sk.builtin.list.prototype.list_subscript_=function(a){if("number"==typeof a){if(0>a&&(a=this.v.length+a),0>a||a>=this.v.length)throw new Sk.builtin.IndexError("list index out of range");return this.v[a]}if(a instanceof Sk.builtin.slice){var b=[];return a.sssiter$(this,function(a,c){b.push(c.v[a])}),new Sk.builtin.list(b)}throw new TypeError("list indices must be integers, not "+typeof a)},Sk.builtin.list.prototype.list_ass_item_=function(a,b){if(0>a||a>=this.v.length)throw new Sk.builtin.IndexError("list index out of range");null===b?this.list_ass_slice_(a,a+1,b):this.v[a]=b},Sk.builtin.list.prototype.list_ass_subscript_=function(a,b){if(Sk.misceval.isIndex(a)){var c=Sk.misceval.asIndex(a);0>c&&(c=this.v.length+c),this.list_ass_item_(c,b)}else{if(!(a instanceof Sk.builtin.slice))throw new TypeError("list indices must be integers, not "+typeof a);if(1===a.step)this.list_ass_slice_(a.start,a.stop,b);else if(null===b){var d=this,e=0,f=a.step>0?1:0;a.sssiter$(this,function(a){d.v.splice(a-e,1),e+=f})}else{var g=[];a.sssiter$(this,function(a){g.push(a)});var h=0;if(g.length!==b.v.length)throw new Sk.builtin.ValueError("attempt to assign sequence of size "+b.v.length+" to extended slice of size "+g.length);for(var c=0;g.length>c;++c)this.v.splice(g[c],1,b.v[h]),h+=1}}},Sk.builtin.list.prototype.mp$subscript=Sk.builtin.list.prototype.list_subscript_,Sk.builtin.list.prototype.mp$ass_subscript=Sk.builtin.list.prototype.list_ass_subscript_,Sk.builtin.list.prototype.__getitem__=new Sk.builtin.func(function(a,b){return Sk.builtin.list.prototype.list_subscript_.call(a,b)}),Sk.builtin.list.prototype.append=new Sk.builtin.func(function(a,b){return a.v.push(b),null}),Sk.builtin.list.prototype.insert=new Sk.builtin.func(function(a,b,c){0>b?b=0:b>a.v.length&&(b=a.v.length-1),a.v.splice(b,0,c)}),Sk.builtin.list.prototype.extend=new Sk.builtin.func(function(a,b){for(var c=b.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())a.v.push(d);return null}),Sk.builtin.list.prototype.pop=new Sk.builtin.func(function(a,b){void 0===b&&(b=a.v.length-1);var c=a.v[b];return a.v.splice(b,1),c}),Sk.builtin.list.prototype.remove=new Sk.builtin.func(function(a,b){var c=Sk.builtin.list.prototype.index.func_code(a,b);return a.v.splice(c,1),null}),Sk.builtin.list.prototype.index=new Sk.builtin.func(function(a,b){for(var c=a.v.length,d=a.v,e=0;c>e;++e)if(Sk.misceval.richCompareBool(d[e],b,"Eq"))return e;throw new Sk.builtin.ValueError("list.index(x): x not in list")}),Sk.builtin.list.prototype.count=new Sk.builtin.func(function(a,b){for(var c=a.v.length,d=a.v,e=0,f=0;c>f;++f)Sk.misceval.richCompareBool(d[f],b,"Eq")&&(e+=1);return e}),Sk.builtin.list.prototype.reverse=new Sk.builtin.func(function(a){for(var b=a.v.length,c=a.v,d=[],e=b-1;e>-1;--e)d.push(c[e]);return a.v=d,null}),Sk.builtin.list.prototype.sort=new Sk.builtin.func(function(a,b,c,d){return goog.asserts.assert(!c,"todo;"),goog.asserts.assert(!d,"todo;"),Sk.mergeSort(a.v,b),null}),goog.exportSymbol("Sk.builtin.list",Sk.builtin.list);