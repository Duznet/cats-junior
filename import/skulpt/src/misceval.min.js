Sk.misceval={},Sk.misceval.isIndex=function(a){return null===a||"number"==typeof a||a.constructor===Sk.builtin.lng||a.tp$index},goog.exportSymbol("Sk.misceval.isIndex",Sk.misceval.isIndex),Sk.misceval.asIndex=function(a){return Sk.misceval.isIndex(a)?null===a?void 0:"number"==typeof a?a:(goog.asserts.fail("todo;"),void 0):void 0},Sk.misceval.applySlice=function(a,b,c){if(a.sq$slice&&Sk.misceval.isIndex(b)&&Sk.misceval.isIndex(c)){var d=Sk.misceval.asIndex(b);void 0===d&&(d=0);var e=Sk.misceval.asIndex(c);return void 0===e&&(e=1e100),Sk.abstr.sequenceGetSlice(a,d,e)}return Sk.abstr.objectGetItem(a,new Sk.builtin.slice(b,c,null))},goog.exportSymbol("Sk.misceval.applySlice",Sk.misceval.applySlice),Sk.misceval.assignSlice=function(a,b,c,d){if(!(a.sq$ass_slice&&Sk.misceval.isIndex(b)&&Sk.misceval.isIndex(c))){var g=new Sk.builtin.slice(b,c);return null===d?Sk.abstr.objectDelItem(a,g):Sk.abstr.objectSetItem(a,g,d)}var e=Sk.misceval.asIndex(b)||0,f=Sk.misceval.asIndex(c)||1e100;null===d?Sk.abstr.sequenceDelSlice(a,e,f):Sk.abstr.sequenceSetSlice(a,e,f,d)},goog.exportSymbol("Sk.misceval.assignSlice",Sk.misceval.assignSlice),Sk.misceval.arrayFromArguments=function(a){if(1!=a.length)return a;var b=a[0];return b instanceof Sk.builtin.set?b=b.tp$iter().$obj:b instanceof Sk.builtin.dict&&(b=Sk.builtin.dict.prototype.keys.func_code(b)),b instanceof Sk.builtin.list||b instanceof Sk.builtin.tuple?b.v:a},goog.exportSymbol("Sk.misceval.arrayFromArguments",Sk.misceval.arrayFromArguments),Sk.misceval.swappedOp_={Eq:"NotEq",NotEq:"Eq",Lt:"Gt",LtE:"GtE",Gt:"Lt",GtE:"LtE",Is:"IsNot",IsNot:"Is",In_:"NotIn",NotIn:"In_"},Sk.misceval.richCompareBool=function(a,b,c){if("Is"===c)return a===b;if("IsNot"===c)return a!==b;if(a===b){if("Eq"===c)return!0;if("NotEq"===c)return!1}if(a instanceof Sk.builtin.str&&b instanceof Sk.builtin.str){if("Eq"===c)return a===b;if("NotEq"===c)return a!==b}if("number"!=typeof a&&"boolean"!=typeof a||"number"!=typeof b&&"boolean"!=typeof b){if("In"===c)return Sk.abstr.sequenceContains(b,a);if("NotIn"===c)return!Sk.abstr.sequenceContains(b,a);if(typeof a!=typeof b)return!1;var d;if(a&&a.tp$richcompare&&void 0!==(d=a.tp$richcompare(b,c)))return d;if(b&&b.tp$richcompare&&void 0!==(d=a.tp$richcompare(a,Sk.misceval.swappedOp_[c])))return d;if("Eq"===c){if(a&&a.__eq__)return Sk.misceval.callsim(a.__eq__,a,b);if(b&&b.__ne__)return Sk.misceval.callsim(b.__ne__,b,a);if("NotEq"===c){if(a&&a.__ne__)return Sk.misceval.callsim(a.__ne__,a,b);if(b&&b.__eq__)return Sk.misceval.callsim(b.__eq__,b,a);if("Gt"===c){if(a&&a.__gt__)return Sk.misceval.callsim(a.__gt__,a,b);if(b&&b.__lt__)return Sk.misceval.callsim(b.__lt__,b,a);if("Lt"===c){if(a&&a.__lt__)return Sk.misceval.callsim(a.__lt__,a,b);if(b&&b.__gt__)return Sk.misceval.callsim(b.__gt__,b,a);if("GtE"===c){if(a&&a.__ge__)return Sk.misceval.callsim(a.__ge__,a,b);if(b&&b.__le__)return Sk.misceval.callsim(b.__le__,b,a);if("LtE"===c){if(a&&a.__le__)return Sk.misceval.callsim(a.__le__,a,b);if(b&&b.__ge__)return Sk.misceval.callsim(b.__ge__,b,a)}}}}}}if(a&&a.__cmp__){var e=Sk.misceval.callsim(a.__cmp__,a,b);if("Eq"===c)return 0===e;if("NotEq"===c)return 0!==e;if("Lt"===c)return 0>e;if("Gt"===c)return e>0;if("LtE"===c)return 0>=e;if("GtE"===c)return e>=0}else if(b&&b.__cmp__){var e=Sk.misceval.callsim(b.__cmp__,b,a);if("Eq"===c)return 0===e;if("NotEq"===c)return 0!==e;if("Lt"===c)return e>0;if("Gt"===c)return 0>e;if("LtE"===c)return e>=0;if("GtE"===c)return 0>=e}}else switch(c){case"Lt":return b>a;case"LtE":return b>=a;case"Gt":return a>b;case"GtE":return a>=b;case"NotEq":return a!=b;case"Eq":return a==b;default:throw"assert"}if("Eq"===c)return a===b;if("NotEq"===c)return a!==b;throw new Sk.builtin.ValueError("don't know how to compare '"+a.tp$name+"' and '"+b.tp$name+"'")},goog.exportSymbol("Sk.misceval.richCompareBool",Sk.misceval.richCompareBool),Sk.misceval.objectRepr=function(a){return goog.asserts.assert(void 0!==a,"trying to repr undefined"),null===a?new Sk.builtin.str("None"):a===!0?new Sk.builtin.str("True"):a===!1?new Sk.builtin.str("False"):"number"==typeof a?new Sk.builtin.str(""+a):a.$r?a.$r():new Sk.builtin.str("<"+a.tp$name+" object>")},goog.exportSymbol("Sk.misceval.objectRepr",Sk.misceval.objectRepr),Sk.misceval.opAllowsEquality=function(a){switch(a){case"LtE":case"Eq":case"GtE":return!0}return!1},goog.exportSymbol("Sk.misceval.opAllowsEquality",Sk.misceval.opAllowsEquality),Sk.misceval.isTrue=function(a){return a===!0?!0:a===!1?!1:null===a?!1:"number"==typeof a?0!==a:a.mp$length?0!==a.mp$length():a.sq$length?0!==a.sq$length():!0},goog.exportSymbol("Sk.misceval.isTrue",Sk.misceval.isTrue),Sk.misceval.softspace_=!1,Sk.misceval.print_=function(a){Sk.misceval.softspace_&&("\n"!==a&&Sk.output(" "),Sk.misceval.softspace_=!1);var b=new Sk.builtin.str(a);Sk.output(b.v);var c=function(a){return"\n"===a||"  "===a||"\r"===a};0!==b.v.length&&c(b.v[b.v.length-1])&&" "!==b.v[b.v.length-1]||(Sk.misceval.softspace_=!0)},goog.exportSymbol("Sk.misceval.print_",Sk.misceval.print_),Sk.misceval.loadname=function(a,b,c){var d=b[a];if(void 0!==d)return d;var e=Sk.builtins[a];if(void 0!==e)return e;if(c)return void 0;throw new Sk.builtin.NameError("name '"+a+"' is not defined")},goog.exportSymbol("Sk.misceval.loadname",Sk.misceval.loadname),Sk.misceval.call=function(a,b,c,d,e){var e=Array.prototype.slice.call(arguments,4);return Sk.misceval.apply(a,b,c,d,e)},goog.exportSymbol("Sk.misceval.call",Sk.misceval.call),Sk.misceval.callsim=function(a,b){var b=Array.prototype.slice.call(arguments,1);return Sk.misceval.apply(a,void 0,void 0,void 0,b)},goog.exportSymbol("Sk.misceval.callsim",Sk.misceval.callsim),Sk.misceval.apply=function(a,b,c,d,e){if("function"==typeof a)return goog.asserts.assert(void 0===d),a.apply(null,e);var f=a.tp$call;if(void 0!==f){if(c)for(var g=c.tp$iter(),h=g.tp$iternext();void 0!==h;h=g.tp$iternext())e.push(h);return b&&goog.asserts.fail("todo;"),f.call(a,e,d,b)}if(f=a.__call__,void 0!==f)return e.unshift(a),Sk.misceval.apply(f,d,e,b,c);throw new TypeError("'"+a.tp$name+"' object is not callable")},goog.exportSymbol("Sk.misceval.apply",Sk.misceval.apply),Sk.misceval.buildClass=function(a,b,c,d){var e=Sk.builtin.type,f={};b(a,f),f.__module__=a.__name__;var g=Sk.misceval.callsim(e,c,d,f);return g},goog.exportSymbol("Sk.misceval.buildClass",Sk.misceval.buildClass);