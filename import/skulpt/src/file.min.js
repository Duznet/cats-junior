Sk.builtin.file=function(a,b){this.mode=b,this.name=a,this.closed=!1,this.data$=Sk.inBrowser?document.all?document.getElementById(a.v).innerText:document.getElementById(a.v).textContent:Sk.read(a.v),this.lineList=this.data$.split("\n"),this.lineList=this.lineList.slice(0,-1);for(var d in this.lineList)this.lineList[d]=this.lineList[d]+"\n";return this.currentLine=0,this.pos$=0,this.__class__=Sk.builtin.file,this},Sk.builtin.file.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("file",Sk.builtin.file),Sk.builtin.file.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr,Sk.builtin.file.prototype.$r=function(){return new Sk.builtin.str("<"+(this.closed?"closed":"open")+"file '"+this.name+"', mode '"+this.mode+"'>")},Sk.builtin.file.prototype.tp$iter=function(){var a=this.lineList,b={tp$iter:function(){return b},$obj:this,$index:0,$lines:a,tp$iternext:function(){return b.$index>=b.$lines.length?void 0:new Sk.builtin.str(b.$lines[b.$index++])}};return b},Sk.builtin.file.prototype.close=new Sk.builtin.func(function(a){a.closed=!0}),Sk.builtin.file.prototype.flush=new Sk.builtin.func(function(){}),Sk.builtin.file.prototype.fileno=new Sk.builtin.func(function(){return 10}),Sk.builtin.file.prototype.isatty=new Sk.builtin.func(function(){return!1}),Sk.builtin.file.prototype.read=new Sk.builtin.func(function(a,b){if(a.closed)throw new Sk.builtin.ValueError("I/O operation on closed file");var c=a.data$.length;void 0===b&&(b=c);var d=new Sk.builtin.str(a.data$.substr(a.pos$,b));return a.pos$+=b,a.pos$>=c&&(a.pos$=c),d}),Sk.builtin.file.prototype.readline=new Sk.builtin.func(function(a){var c="";return a.currentLine<a.lineList.length&&(c=a.lineList[a.currentLine],a.currentLine++),new Sk.builtin.str(c)}),Sk.builtin.file.prototype.readlines=new Sk.builtin.func(function(a){for(var c=[],d=a.currentLine;a.lineList.length>d;d++)c.push(new Sk.builtin.str(a.lineList[d]));return new Sk.builtin.list(c)}),Sk.builtin.file.prototype.seek=new Sk.builtin.func(function(a,b,c){void 0===c&&(c=1),a.pos$=1==c?b:a.data$+b}),Sk.builtin.file.prototype.tell=new Sk.builtin.func(function(a){return a.pos$}),Sk.builtin.file.prototype.truncate=new Sk.builtin.func(function(){goog.asserts.fail()}),Sk.builtin.file.prototype.write=new Sk.builtin.func(function(){goog.asserts.fail()}),goog.exportSymbol("Sk.builtin.file",Sk.builtin.file);